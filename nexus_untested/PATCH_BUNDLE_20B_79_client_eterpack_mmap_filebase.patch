diff --git a/src-client/Client/EterBase/FileBase.cpp b/src-client/Client/EterBase/FileBase.cpp
index bc4903e..1e48937 100644
--- a/src-client/Client/EterBase/FileBase.cpp
+++ b/src-client/Client/EterBase/FileBase.cpp
@@ -1,118 +1,200 @@
-#include "StdAfx.h"
-#include "FileBase.h"
-
-CFileBase::CFileBase() : m_hFile(NULL), m_dwSize(0)
-{
-}
-
-CFileBase::~CFileBase()
-{
-	Destroy();
-}
-
-char* CFileBase::GetFileName()
-{
-	return m_filename;
-}
-
-void CFileBase::Destroy()
-{
-	Close();
-	m_dwSize = 0;
-}
-
-void CFileBase::Close()
-{
-	if (m_hFile)
-	{
-		CloseHandle(m_hFile);
-		m_hFile = NULL;
-	}
-}
-
-BOOL CFileBase::Create(const char* filename, EFileMode mode)
-{
-	Destroy();
-
-	strncpy(m_filename, filename, MAX_PATH);
-
-	DWORD dwMode, dwShareMode = FILE_SHARE_READ;
-
-	if (mode == FILEMODE_WRITE)
-	{
-		dwMode = GENERIC_READ | GENERIC_WRITE;
-		dwShareMode = FILE_SHARE_READ | FILE_SHARE_WRITE;
-	}
-	else
-		dwMode = GENERIC_READ;
-
-	m_hFile = CreateFile(filename, // name of the file
-		dwMode, // desired access
-		dwShareMode, // share mode
-		NULL, // security attributes
-		mode == FILEMODE_READ ? OPEN_EXISTING : OPEN_ALWAYS, // creation disposition
-		FILE_ATTRIBUTE_NORMAL, // flags and attr
-		NULL); // template file
-
-	if (m_hFile != INVALID_HANDLE_VALUE)
-	{
-		m_dwSize = GetFileSize(m_hFile, NULL);
-		m_mode = mode;
-		return true;
-	}
-
-	/*
-	char buf[256];
-	GetCurrentDirectory(256, buf);
-	DWORD dwErr = GetLastError();
-	*/
-
-	m_hFile = NULL;
-	return false;
-}
-
-DWORD CFileBase::Size()
-{
-	return (m_dwSize);
-}
-
-void CFileBase::SeekCur(DWORD size)
-{
-	SetFilePointer(m_hFile, size, NULL, FILE_CURRENT);
-}
-
-void CFileBase::Seek(DWORD offset)
-{
-	if (offset > m_dwSize)
-		offset = m_dwSize;
-
-	SetFilePointer(m_hFile, offset, NULL, FILE_BEGIN);
-}
-
-DWORD CFileBase::GetPosition()
-{
-	return SetFilePointer(m_hFile, 0, NULL, FILE_CURRENT);
-}
-
-BOOL CFileBase::Write(const void* src, int bytes)
-{
-	DWORD dwUseless;
-	BOOL ret = WriteFile(m_hFile, src, bytes, &dwUseless, NULL);
-
-	if (!ret)
-		return false;
-
-	m_dwSize = GetFileSize(m_hFile, NULL);
-	return true;
-}
-
-BOOL CFileBase::Read(void* dest, int bytes)
-{
-	DWORD dwUseless;
-	return ReadFile(m_hFile, dest, bytes, &dwUseless, NULL);
-}
-
-BOOL CFileBase::IsNull()
-{
-	return !m_hFile ? true : false;
-}
+#include "StdAfx.h"
+#include "FileBase.h"
+
+CFileBase::CFileBase() : m_hFile(NULL), m_dwSize(0)
+{
+#if defined(ENABLE_MMAP_ETERPACK)
+	m_hMap = NULL;
+	m_pMapView = NULL;
+	m_dwPos = 0;
+	m_bUseMMap = false;
+#endif
+}
+
+CFileBase::~CFileBase()
+{
+	Destroy();
+}
+
+char* CFileBase::GetFileName()
+{
+	return m_filename;
+}
+
+void CFileBase::Destroy()
+{
+	Close();
+	m_dwSize = 0;
+}
+
+void CFileBase::Close()
+{
+#if defined(ENABLE_MMAP_ETERPACK)
+	if (m_pMapView)
+	{
+		UnmapViewOfFile(m_pMapView);
+		m_pMapView = NULL;
+	}
+	if (m_hMap)
+	{
+		CloseHandle(m_hMap);
+		m_hMap = NULL;
+	}
+	m_bUseMMap = false;
+	m_dwPos = 0;
+#endif
+
+	if (m_hFile)
+	{
+		CloseHandle(m_hFile);
+		m_hFile = NULL;
+	}
+}
+
+BOOL CFileBase::Create(const char* filename, EFileMode mode)
+{
+	Destroy();
+
+	strncpy(m_filename, filename, MAX_PATH);
+
+	DWORD dwMode, dwShareMode = FILE_SHARE_READ;
+
+	if (mode == FILEMODE_WRITE)
+	{
+		dwMode = GENERIC_READ | GENERIC_WRITE;
+		dwShareMode = FILE_SHARE_READ | FILE_SHARE_WRITE;
+	}
+	else
+		dwMode = GENERIC_READ;
+
+	m_hFile = CreateFile(filename, // name of the file
+		dwMode, // desired access
+		dwShareMode, // share mode
+		NULL, // security attributes
+		mode == FILEMODE_READ ? OPEN_EXISTING : OPEN_ALWAYS, // creation disposition
+		FILE_ATTRIBUTE_NORMAL, // flags and attr
+		NULL); // template file
+
+	if (m_hFile != INVALID_HANDLE_VALUE)
+	{
+		m_dwSize = GetFileSize(m_hFile, NULL);
+		m_mode = mode;
+#if defined(ENABLE_MMAP_ETERPACK)
+		// Optional memory-mapped fast path (Tier 23): reduces syscall/seek overhead.
+		m_bUseMMap = false;
+		m_dwPos = 0;
+		m_hMap = NULL;
+		m_pMapView = NULL;
+		if (mode == FILEMODE_READ && m_dwSize >= (1024 * 1024))
+		{
+			m_hMap = CreateFileMapping(m_hFile, NULL, PAGE_READONLY, 0, 0, NULL);
+			if (m_hMap)
+			{
+				m_pMapView = (BYTE*)MapViewOfFile(m_hMap, FILE_MAP_READ, 0, 0, 0);
+				if (m_pMapView)
+					m_bUseMMap = true;
+				else
+				{
+					CloseHandle(m_hMap);
+					m_hMap = NULL;
+				}
+			}
+		}
+#endif
+		return true;
+	}
+
+	/*
+	char buf[256];
+	GetCurrentDirectory(256, buf);
+	DWORD dwErr = GetLastError();
+	*/
+
+	m_hFile = NULL;
+	return false;
+}
+
+DWORD CFileBase::Size()
+{
+	return (m_dwSize);
+}
+
+void CFileBase::SeekCur(DWORD size)
+{
+#if defined(ENABLE_MMAP_ETERPACK)
+	if (m_bUseMMap)
+	{
+		DWORD newPos = m_dwPos + size;
+		m_dwPos = (newPos > m_dwSize) ? m_dwSize : newPos;
+		return;
+	}
+#endif
+	SetFilePointer(m_hFile, size, NULL, FILE_CURRENT);
+}
+
+void CFileBase::Seek(DWORD offset)
+{
+	if (offset > m_dwSize)
+		offset = m_dwSize;
+#if defined(ENABLE_MMAP_ETERPACK)
+	if (m_bUseMMap)
+	{
+		m_dwPos = offset;
+		return;
+	}
+#endif
+	SetFilePointer(m_hFile, offset, NULL, FILE_BEGIN);
+}
+
+DWORD CFileBase::GetPosition()
+{
+#if defined(ENABLE_MMAP_ETERPACK)
+	if (m_bUseMMap)
+		return m_dwPos;
+#endif
+	return SetFilePointer(m_hFile, 0, NULL, FILE_CURRENT);
+}
+
+BOOL CFileBase::Write(const void* src, int bytes)
+{
+	DWORD dwUseless;
+	BOOL ret = WriteFile(m_hFile, src, bytes, &dwUseless, NULL);
+
+	if (!ret)
+		return false;
+
+	m_dwSize = GetFileSize(m_hFile, NULL);
+	return true;
+}
+
+BOOL CFileBase::Read(void* dest, int bytes)
+{
+#if defined(ENABLE_MMAP_ETERPACK)
+	if (m_bUseMMap)
+	{
+		if (bytes <= 0)
+			return true;
+		if (!m_pMapView)
+			return false;
+		if (m_dwPos > m_dwSize)
+			return false;
+
+		DWORD avail = m_dwSize - m_dwPos;
+		DWORD toRead = (DWORD)bytes;
+		if (toRead > avail)
+			toRead = avail;
+
+		if (toRead)
+			memcpy(dest, m_pMapView + m_dwPos, toRead);
+		m_dwPos += toRead;
+		return (toRead == (DWORD)bytes);
+	}
+#endif
+	DWORD dwUseless;
+	return ReadFile(m_hFile, dest, bytes, &dwUseless, NULL);
+}
+
+BOOL CFileBase::IsNull()
+{
+	return !m_hFile ? true : false;
+}
diff --git a/src-client/Client/EterBase/FileBase.h b/src-client/Client/EterBase/FileBase.h
index 8ef4e4d..234e093 100644
--- a/src-client/Client/EterBase/FileBase.h
+++ b/src-client/Client/EterBase/FileBase.h
@@ -1,41 +1,48 @@
-#ifndef __INC_ETER_BASE_FILE_BASE_H__
-#define __INC_ETER_BASE_FILE_BASE_H__
-
-#include <windows.h>
-
-class CFileBase
-{
-public:
-	enum EFileMode
-	{
-		FILEMODE_READ = (1 << 0),
-		FILEMODE_WRITE = (1 << 1)
-	};
-
-	CFileBase();
-	virtual ~CFileBase();
-
-	void Destroy();
-	void Close();
-
-	BOOL Create(const char* filename, EFileMode mode);
-	DWORD Size();
-	void SeekCur(DWORD size);
-	void Seek(DWORD offset);
-	DWORD GetPosition();
-
-	virtual BOOL Write(const void* src, int bytes);
-	BOOL Read(void* dest, int bytes);
-
-	char* GetFileName();
-	BOOL IsNull();
-
-protected:
-	int m_mode;
-	char m_filename[MAX_PATH + 1];
-	HANDLE m_hFile;
-	DWORD m_dwSize;
-
-};
-
-#endif // __INC_ETER_BASE_FILE_BASE_H__
+#ifndef __INC_ETER_BASE_FILE_BASE_H__
+#define __INC_ETER_BASE_FILE_BASE_H__
+
+#include <windows.h>
+
+class CFileBase
+{
+public:
+	enum EFileMode
+	{
+		FILEMODE_READ = (1 << 0),
+		FILEMODE_WRITE = (1 << 1)
+	};
+
+	CFileBase();
+	virtual ~CFileBase();
+
+	void Destroy();
+	void Close();
+
+	BOOL Create(const char* filename, EFileMode mode);
+	DWORD Size();
+	void SeekCur(DWORD size);
+	void Seek(DWORD offset);
+	DWORD GetPosition();
+
+	virtual BOOL Write(const void* src, int bytes);
+	BOOL Read(void* dest, int bytes);
+
+	char* GetFileName();
+	BOOL IsNull();
+
+protected:
+	int m_mode;
+	char m_filename[MAX_PATH + 1];
+	HANDLE m_hFile;
+	DWORD m_dwSize;
+
+#if defined(ENABLE_MMAP_ETERPACK)
+	HANDLE m_hMap;
+	BYTE* m_pMapView;
+	DWORD m_dwPos;
+	bool m_bUseMMap;
+#endif
+
+};
+
+#endif // __INC_ETER_BASE_FILE_BASE_H__
