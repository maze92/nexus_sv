CHANGELOGS

17.02.2026
[OPT] 001 - diff_001 - Otimização de carregamento de motions/efeitos para evitar I/O repetido no client (src-client/Client/GameLib/RaceMotionData.cpp, src-client/Client/EffectLib/EffectData.cpp);
[FIX] 002 - diff_002 - Hardening de SQL: escaping consistente + builder seguro em queries do server (server/metin2/Source/Server/db/src/ClientManagerPlayer.cpp, server/metin2/Source/Server/game/src/questlua.cpp (+3));
[FIX] 003 - diff_003 - Packing/alinhamento consistente + validação de headers/opcodes no packet.h (server/metin2/Source/Server/game/src/packet.h);
[FIX] 004 - diff_004 - Correção de mapeamento de slots/tabs + suporte extend inven no inventário do client (client/pack/root/uiinventory.py, client/pack/root/uiscript/inventorywindow.py (+1));
[FIX] 005 - diff_005 - Validações de janelas/inputs + reforço de checks no GuildLadder (server/metin2/Source/Server/game/src/input_main.cpp, server/metin2/Source/Server/game/src/char.h (+2));
[FIX] 006 - diff_006 - Anti mob-puller + clamp de EXP/valores para bloquear overflow no char_battle (server/metin2/Source/Server/game/src/char_battle.cpp);
[FIX] 007 - diff_007 - Sanity-check de packet/IDs para bloquear abuso/crash no convite de party (server/metin2/Source/Server/game/src/input_main.cpp);
[FIX] 008 - diff_008 - Null-guards em eventos de dungeon para bloquear crashes (server/metin2/Source/Server/game/src/dungeon.cpp);
[FIX] 009 - diff_009 - Bounds-check de display_pos para bloquear OOB no exchange (server/metin2/Source/Server/game/src/exchange.cpp);
[FIX] 010 - diff_010 - Guards extra de coords/sectree para bloquear estados inválidos no sectree_move (server/metin2/Source/Server/game/src/entity.h, server/metin2/Source/Server/game/src/entity_view.cpp (+1));
[FIX] 011 - diff_011 - Lua pcall/guard no alert para bloquear crash por script (server/metin2/Source/Server/liblua/src/lib/lauxlib.c);
[FIX] 012 - diff_012 - 64-bit + clamps para bloquear overflow nos cálculos de shop/tax (server/metin2/Source/Server/game/src/shop.cpp);
[FIX] 013 - diff_013 - Sanitize/whitelist para bloquear injection e postfix inválido no DB (server/metin2/Source/Server/db/src/Main.cpp);
[FIX] 014 - diff_014 - Lock inflight por sessão para bloquear dupla atribuição no item_award (server/metin2/Source/Server/db/src/ClientManager.cpp);
[FIX] 015 - diff_015 - Clamp de underflow/negativos para estabilizar ranking/pontos no GuildLadder (server/metin2/Source/Server/db/src/GuildManager.cpp);
[FIX] 016 - diff_016 - Sanitize de string no MyShop sign para bloquear injection/crash (server/metin2/Source/Server/game/src/input_main.cpp);
[FIX] 017 - diff_017 - Resolução segura de target (null/id guard) no target follow (server/metin2/Source/Server/game/src/char.h, server/metin2/Source/Server/game/src/char.cpp);
[FIX] 018 - diff_018 - Lock ao adicionar item para reduzir race/dup em operações concorrentes no Attr67 (server/metin2/Source/Server/game/src/char_item.cpp, server/metin2/Source/Server/game/src/questlua_attr67add.cpp);
[FIX] 019 - diff_019 - Sanitize de ranges para bloquear under/overflow na stamina do horse (server/metin2/Source/Server/game/src/horse_rider.cpp);
[FIX] 020 - diff_020 - Limpeza coerente de skills/affects para evitar desync no reskill (server/metin2/Source/Server/game/src/char_skill.cpp);
[FIX] 021 - diff_021 - Validação de quantidade/stack para bloquear dupe e OOB no split-stack do safebox (server/metin2/Source/Server/game/src/safebox.cpp);
[FIX] 022 - diff_022 - 64-bit + clamps contra overflow/underflow no Alignment (server/metin2/Source/Server/game/src/char_battle.cpp);
[FIX] 023 - diff_023 - Validação de money changes + bloqueio de remoções em war no Guild bank (server/metin2/Source/Server/game/src/guild.cpp);
[FIX] 024 - diff_024 - Bloqueio de mover/remover itens locked no safebox (server/metin2/Source/Server/game/src/safebox.cpp);
[FIX] 025 - diff_025 - Ajustes de robustez e validações no game (server/metin2/Source/Server/game/src/guild.cpp);
[FIX] 026 - diff_026 - Ajustes de robustez e validações no game (server/metin2/Source/Server/game/src/input_login.cpp);
[FIX] 027 - diff_027 - Ajustes de robustez e validações no game (server/metin2/Source/Server/game/src/char.h, server/metin2/Source/Server/game/src/char.cpp (+2));
[FIX] 028 - diff_028 - Ajustes de robustez e validações no game (server/metin2/Source/Server/game/src/questlua_pc.cpp);
[FIX] 029 - diff_029 - Ajustes de robustez e validações no game (server/metin2/Source/Server/game/src/char_item.cpp);
[FIX] 030 - diff_030 - Ajustes de robustez e validações no game (server/metin2/Source/Server/game/src/char_change_empire.cpp);
[FIX] 031 - diff_031 - Ajustes de robustez e validações no game (server/metin2/Source/Server/game/src/char_battle.cpp);
[FIX] 032 - diff_032 - Ajustes de robustez e validações no game (server/metin2/Source/Server/game/src/input_main.cpp);
[FIX] 033 - diff_033 - Ajustes de robustez e validações no game (server/metin2/Source/Server/game/src/db.h"	2026-02-17 05:21:46.002902935 +0000);
[FIX] 034 - diff_034 - Ajustes de robustez e validações no game (server/metin2/Source/Server/game/src/char.h"	2026-02-17 05:22:00.231902022 +0000, server/metin2/Source/Server/game/src/char.cpp"	2026-02-17 05:23:26.241316079 +0000 (+1));
[FIX] 035 - diff_035 - Ajustes de robustez e validações no game (server/metin2/Source/Server/game/src/entity.cpp"	2026-02-17 05:22:05.652524195 +0000);
[FIX] 036 - diff_036 - Ajustes de robustez e validações no client (src-client/Client/EterLib/GrpDetector.cpp"	2026-02-17 05:22:23.443592839 +0000);
[FIX] 037 - diff_037 - Ajustes de robustez e validações no client (src-client/Client/MilesLib/SoundManager.cpp"	2026-02-17 05:22:33.744874038 +0000);
[FIX] 038 - diff_038 - Ajustes de robustez e validações no game (Server/game/src/char_item.cpp);
[FIX] 039 - diff_039 - Bounds-checks para bloquear acessos fora do range no game (Server/game/src/char.h, Server/game/src/char.cpp (+1));
[FIX] 040 - diff_040 - Clamps/validações contra over/underflow no GrpTextInstance (Client/EterLib/GrpTextInstance.cpp, Client/EterLib/GrpTextInstance.h (+1));
[FIX] 041 - diff_041 - Ajustes de robustez e validações no game (server/metin2/Source/Server/db/src/PeerBase.cpp, server/metin2/Source/Server/game/src/desc.cpp (+1));
[FIX] 042 - diff_042 - Ajustes de robustez e validações no client (src-client/Client/EterBase/FileBase.cpp, src-client/Client/EterBase/FileBase.h);
[FIX] 043 - diff_043 - Ajustes de robustez e validações no game (server/metin2/Source/Server/game/src/dungeon.cpp, server/metin2/Source/Server/game/src/dungeon.h);
[FIX] 044 - diff_044 - Ajustes de robustez e validações no game (server/metin2/Source/Server/game/src/item.h);
[FIX] 045 - diff_045 - Frustum + distance culling para reduzir custo CPU em shadows/effects no MapOutdoorRender (src-client/Client/GameLib/MapOutdoorRender.cpp, src-client/Client/GameLib/Area.cpp);
[FIX] 046 - diff_046 - Dead-reckoning para reduzir rubberband/drift e endurecer micro-speedhack no game (server/metin2/Source/Server/game/src/char.h, server/metin2/Source/Server/game/src/char.cpp (+1));
[FIX] 047 - diff_047 - RNG mais seguro para reduzir previsibilidade em rolls críticos no game (server/metin2/Source/Server/libthecore/include/utils.h, server/metin2/Source/Server/libthecore/src/utils.c (+2));
[FIX] 048 - diff_048 - Limite máximo de packet/payload para bloquear abusos na rede no game (server/metin2/Source/Server/game/src/input.cpp);
[FIX] 049 - diff_049 - Flush/guard da TEA key para evitar desync de cifragem no handshake no game (server/metin2/Source/Server/game/src/desc.cpp);
[FIX] 050 - diff_050 - Guard de pickup em offers de guild para bloquear race/abuso no game (server/metin2/Source/Server/game/src/input_main.cpp);
[FIX] 051 - diff_051 - Clamp de durações negativas para evitar affects inválidos no game (server/metin2/Source/Server/game/src/char_affect.cpp);
[FIX] 052 - diff_052 - Lock atómico no exchange para bloquear concorrência/dupe no game (server/metin2/Source/Server/game/src/exchange.h, server/metin2/Source/Server/game/src/exchange.cpp);
[FIX] 053 - diff_053 - Flush consistente do exchange no DB para evitar state desync no game (server/metin2/Source/Server/game/src/exchange.cpp);
[FIX] 054 - diff_054 - Fix de drag de equipamento para bloquear slots inválidos/desync no uiinventory (client/pack/root/uiinventory.py);
[FIX] 055 - diff_055 - VID único/seguro em dungeon para evitar colisões de entidade no game (server/metin2/Source/Server/game/src/dungeon.h, server/metin2/Source/Server/game/src/dungeon.cpp);
[FIX] 056 - diff_056 - Conversão de tempo thread-safe para evitar data races em localtime/gmtime no game (server/metin2/Source/Server/libthecore/src/utils.c, server/metin2/Source/Server/libthecore/src/log.c (+7));
[FIX] 057 - diff_057 - Conversão de tempo thread-safe para evitar data races em localtime/gmtime no client (src-client/Client/EterPythonLib/PythonGraphicModule.cpp, src-client/Client/GameLib/Property.cpp (+2));
